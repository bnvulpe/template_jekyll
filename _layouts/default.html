<!DOCTYPE html>
<html lang="en">
{% include head.html %}
<body>
	{% include header.html %}
 	<!-- Primary Page Layout
 	–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<div class="section main">
	<div class="container">
		{{ page.body | markdownify }}
		<div class="row" id="gallery">
			{% assign k = page.name.size | minus: 3 %}
			{% assign n = page.name | slice: 0, k %}
			{% assign coll = site.collections | where: "label", n | first %}
			{% assign list = coll.files | sort: "basename" %}

			{% assign size = list.size %}
			{% assign base = size | divided_by: 3 %}
			{% assign extra = size | modulo: 3 %}

            {% assign add_to_col1 = 0 %}
            {% if extra > 0 %}
                {% assign add_to_col1 = 1 %}
            {% endif %}

            {% assign add_to_col2 = 0 %}
            {% if extra > 1 %}
                {% assign add_to_col2 = 1 %}
            {% endif %}

			{% assign col1 = base | plus: add_to_col1 %}
			{% assign col2 = base | plus: add_to_col2 %}
			{% assign col3 = base %}

            <p>DEBUG - list.size: {{ list.size }}</p>
            <p>DEBUG - size (after assign): {{ size }}</p>
            <p>DEBUG - base: {{ base }}</p>
            <p>DEBUG - extra: {{ extra }}</p>
            <p>DEBUG - add_to_col1: {{ add_to_col1 }}</p>
            <p>DEBUG - add_to_col2: {{ add_to_col2 }}</p>
            <p>DEBUG - col1: {{ col1 }}</p>
            <p>DEBUG - col2: {{ col2 }}</p>
            <p>DEBUG - col3: {{ col3 }}</p>
            {% assign start1 = 0 %}
			{% assign start2 = col1 %}
			{% assign start3 = col1 | plus: col2 %}

			<div class="one-third column">
				{% for image in list offset: start1 limit: col1 %}
				<article class="thumb">
					<img class="lozad u-max-full-width" data-src="{{ coll.label | append: '/' | append: image.name | relative_url }}" alt="{{ image.basename }}" />
					<p class="thumb-title">{{ image.basename | remove: '.jpg' | remove: '.png' | remove: '.gif' }}</p>
				</article>
				{% endfor %}
			</div>

			<div class="one-third column">
				{% for image in list offset: start2 limit: col2 %}
				<article class="thumb">
					<img class="lozad u-max-full-width" data-src="{{ coll.label | append: '/' | append: image.name | relative_url }}" alt="{{ image.basename }}" />
					<p class="thumb-title">{{ image.basename | remove: '.jpg' | remove: '.png' | remove: '.gif' }}</p>
				</article>
				{% endfor %}
			</div>

			<div class="one-third column">
				{% for image in list offset: start3 limit: col3 %}
				<article class="thumb">
					<img class="lozad u-max-full-width" data-src="{{ coll.label | append: '/' | append: image.name | relative_url }}" alt="{{ image.basename }}" />
					<p class="thumb-title">{{ image.basename | remove: '.jpg' | remove: '.png' | remove: '.gif' }}</p>
				</article>
				{% endfor %}
			</div>
		</div>
	</div>
</div>


	<!-- End Document
	–––––––––––––––––––––––––––––––––––––––––––––––––– -->
	{% include footer.html %}
</body>
</html>
